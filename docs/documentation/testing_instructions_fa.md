# دستورالعمل اجرای تست‌ها در مخزن ProjectManagement

این سند دستورالعمل‌های دقیقی برای راه‌اندازی محیط و اجرای موفق تست‌ها ارائه می‌دهد و از خطاهای رایج مربوط به دایرکتوری `src` جلوگیری می‌کند.

## پیش‌نیازها

- نصب پایتون نسخه ۳.۷ یا بالاتر.
- نصب مدیر بسته `pip`.

## راه‌اندازی محیط

1. **ایجاد محیط مجازی (توصیه شده):**

```bash
python3 -m venv venv
source venv/bin/activate  # در ویندوز: venv\Scripts\activate
```

2. **نصب بسته‌های مورد نیاز:**

```bash
pip install -r config/requirements.txt
pip install pytest
```

## اجرای تست‌ها

کد منبع در دایرکتوری `src` قرار دارد که به صورت بسته نصب نشده است. برای اینکه پایتون بتواند ماژول‌های `src` را هنگام تست پیدا کند، باید متغیر محیطی `PYTHONPATH` را به دایرکتوری `src` اضافه کنید.

### در لینوکس/مک

تست‌ها را با دستور زیر اجرا کنید:

```bash
PYTHONPATH=src pytest tests/
```

### در ویندوز (PowerShell)

تست‌ها را با دستور زیر اجرا کنید:

```powershell
$env:PYTHONPATH="src"
pytest tests/
```

### در ویندوز (Command Prompt)

تست‌ها را با دستور زیر اجرا کنید:

```cmd
set PYTHONPATH=src
pytest tests/
```

## اجرای فایل تست خاص

برای اجرای یک فایل تست خاص، مثلاً `tests/test_progress_report.py`، از دستور زیر استفاده کنید:

```bash
PYTHONPATH=src pytest tests/test_progress_report.py
```

## نکات

- اطمینان حاصل کنید که دستورات را از دایرکتوری ریشه پروژه (`/workspaces/ProjectManagement`) اجرا می‌کنید.
- اگر با مشکلات دسترسی مواجه شدید، مطمئن شوید که کاربر شما مجوزهای لازم برای اجرای دستورات را دارد.
- اگر وابستگی‌های جدید اضافه کردید، فایل `config/requirements.txt` را به‌روزرسانی کنید.

## عیب‌یابی

- اگر هنوز خطاهای وارد کردن ماژول داشتید، بررسی کنید که دایرکتوری `src` شامل فایل `__init__.py` باشد تا به عنوان بسته شناخته شود.
- مطمئن شوید که محیط مجازی قبل از اجرای تست‌ها فعال شده است.
- بررسی کنید که متغیر محیطی `PYTHONPATH` به درستی در محیط شل شما تنظیم شده باشد.

---

با دنبال کردن این دستورالعمل‌ها باید بتوانید تست‌ها را بدون خطا اجرا کنید.
